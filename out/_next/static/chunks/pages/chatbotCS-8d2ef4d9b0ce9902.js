(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{2684:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chatbotCS",function(){return n(1175)}])},1175:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(4848),r=n(6540),o=n(23);let s=()=>(0,i.jsx)("button",{onClick:()=>{window.location.reload()},style:{border:"none",background:"transparent",cursor:"pointer"},children:(0,i.jsx)("img",{src:"/85272_refresh_icon.png",alt:"Refresh",style:{width:"50px",height:"50px"}})}),a=e=>{let{imageUrl:t,caption:n,altText:r}=e;return(0,i.jsxs)("figure",{children:[(0,i.jsx)("img",{src:t,title:r,style:{width:"100%",maxWidth:"1280px",height:"auto"}}),(0,i.jsx)("figcaption",{style:{textAlign:"center",fontStyle:"italic",backgroundColor:"white",padding:"8px 16px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",maxWidth:"500px",margin:"8px auto 0 auto"},children:n})]})},l={wrapper:{display:"flex",alignItems:"flex-start"},imageContainer:{flex:1,padding:"4px",marginRight:"0px"},chatContainer:{flex:1,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"top"},container:{width:"600px",marginTop:"20px",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",fontFamily:"Arial, sans-serif",position:"relative"},header:{fontWeight:"bold",textAlign:"center",backgroundColor:"#E3D7C1",padding:"10px"},messages:{flex:1,overflowY:"auto",padding:"10px",backgroundColor:"#fff"},typingIndicator:{color:"#888",fontStyle:"italic",margin:"10px 0",textAlign:"center"},inputContainer:{display:"flex",padding:"10px",borderTop:"1px solid #eee",backgroundColor:"#f7f7f7"},input:{flex:1,padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginRight:"10px"},button:{padding:"8px 15px",border:"none",backgroundColor:"#4082bf",color:"#fff",borderRadius:"4px",cursor:"pointer"},userBubble:{backgroundColor:"#E3D7C1",borderRadius:"8px",padding:"10px",margin:"5px 0",alignSelf:"flex-end",maxWidth:"80%"},botBubble:{backgroundColor:"#f1f0f0",borderRadius:"8px",padding:"10px",margin:"5px 0",alignSelf:"flex-start",maxWidth:"80%"},sidebarLink:{padding:"8px 8px 8px 32px",textDecoration:"none",fontSize:"25px",color:"#818181",display:"block",transition:"0.3s"},closeBtn:{position:"absolute",top:"20px",right:"25px",fontSize:"36px",marginLeft:"50px",background:"none",border:"none",color:"#fff",cursor:"pointer"},hamburgerBtn:{fontSize:"30px",cursor:"pointer",background:"none",border:"none",color:"#fff",padding:"10px"},headerWithMenu:{display:"flex",alignItems:"center",backgroundColor:"#E3D7C1",position:"relative"},headerTitle:{flex:1,textAlign:"center",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"left"},headerLink:{color:"midnightblue",marginLeft:"20px"}};class d{async fetchdescriptionL(){try{let e=await fetch("/descriptionCS.txt");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));this.descriptionL=await e.text(),console.log("descriptionL loaded:",this.descriptionL)}catch(e){console.error("Failed to load descriptionL:",e)}}escapeString(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}async sendMessage(e,t){let n=t.flatMap(e=>[{role:"question"===e.type?"user":"model",parts:[{text:e.text}]}]);n.push({role:"user",parts:[{text:e}]});let i={contents:n,systemInstruction:{role:"user",parts:[{text:this.descriptionL||"Default system instruction here"}]},generationConfig:{temperature:.3,topK:40,topP:.95,maxOutputTokens:8192,responseMimeType:"text/plain"}};try{let e=await fetch("".concat(this.apiUrl,"?key=").concat(this.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),t=await e.json();if(console.log("API response:",t),!t.candidates||!t.candidates[0]||!t.candidates[0].content||!t.candidates[0].content.parts)throw Error("Invalid API response structure");return t.candidates[0].content.parts.map(e=>e.text).join(" ")}catch(e){return console.error("Error:",e),"Error fetching response"}}constructor(){this.descriptionL="",this.apiKey="AIzaSyDZRyPcXJv2Rsc41NxK2VDzATuiAnIht-U",this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent"}}let c=()=>{let[e,t]=(0,r.useState)([]),[n,c]=(0,r.useState)(""),[p,x]=(0,r.useState)([]),[u,h]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),m=(0,r.useRef)(null),[v,w]=(0,r.useState)(0);(0,r.useEffect)(()=>{{let e=()=>{w(window.innerHeight)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]);let[j,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new d;e.fetchdescriptionL().then(()=>{h(e)})},[]),(0,r.useEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,r.useEffect)(()=>{g&&window.location.reload()},[g]);let C=async()=>{if(""!==n.trim()){let e={type:"question",text:n};if(t(t=>[...t,e]),x(t=>[...t,e]),c(""),u){b(!0);let i=await u.sendMessage(n,[...p,e]),r={type:"response",text:i};t(e=>[...e,r]),x(e=>[...e,r]),b(!1),i.includes("○")?f(!0):f(!1)}}},S=e=>({__html:(0,o.xI)(e)});return(0,i.jsxs)("div",{style:{backgroundColor:"#E3D7C1"},children:[(0,i.jsxs)("div",{style:{height:v-60,width:j?"250px":"0",position:"fixed",top:0,left:0,backgroundColor:"#111",overflowX:"hidden",transition:"0.5s",paddingTop:"60px",zIndex:1e3,flexDirection:"column",display:"flex"},children:[(0,i.jsx)("button",{style:l.closeBtn,onClick:()=>{k(!1)},children:"\xd7"}),(0,i.jsx)("div",{style:{color:"white",padding:"8px 8px 8px 32px"},children:(0,i.jsx)("h1",{children:"Related Links"})}),(0,i.jsx)("a",{href:"/chatbotL",style:l.sidebarLink,onMouseOver:e=>e.currentTarget.style.color="#f1f1f1",onMouseOut:e=>e.currentTarget.style.color="#818181",children:"Language Website"}),(0,i.jsx)("a",{href:"https://cybercap.qc.ca/",style:l.sidebarLink,onMouseOver:e=>e.currentTarget.style.color="#f1f1f1",onMouseOut:e=>e.currentTarget.style.color="#818181",children:"CyberCap"}),(0,i.jsx)("div",{style:{color:"white",padding:"8px 8px 8px 32px",marginTop:"auto"},children:(0,i.jsx)("h3",{children:"By Sam"})})]}),(0,i.jsxs)("div",{id:"main",style:{transition:"margin-left 0.5s",marginLeft:j?"250px":"0"},children:[(0,i.jsx)("div",{style:l.headerWithMenu,children:(0,i.jsx)("button",{style:l.hamburgerBtn,onClick:()=>{k(!j)},children:"☰"})}),(0,i.jsx)("div",{style:l.headerTitle,children:(0,i.jsxs)("h1",{children:[(0,i.jsx)("span",{style:l.headerLink,children:"Cybersecurity Website"}),(0,i.jsx)("a",{href:"/commentutiliserCS",style:l.headerLink,children:"How to Use"})]})}),(0,i.jsxs)("div",{style:{minHeight:v-140,display:"flex",background:"linear-gradient(90deg, #9e9e9e 25%, #b0b0b0 25%, #b0b0b0 50%, #9e9e9e 50%, #9e9e9e 75%, #b0b0b0 75%)",backgroundSize:"30%"},children:[(0,i.jsx)("div",{style:l.wrapper,children:(0,i.jsx)("div",{style:l.imageContainer,children:(0,i.jsx)(a,{imageUrl:"/kali-linux-2022-4-gnome.jpg",altText:"GNOME Shell",caption:"Every part of GNOME Shell has been designed to make it simple and easy to use. The Activities Overview is an easy way to access all your basic tasks. A press of a button is all it takes to view your open windows, launch applications, or check if you have new messages. Having everything in one place is convenient and means that you don't have to learn your way through a maze of different technologies. (kali.org)"})})}),(0,i.jsx)("div",{style:l.chatContainer,children:(0,i.jsx)("div",{className:"App",children:(0,i.jsxs)("div",{style:l.container,children:[(0,i.jsx)("div",{style:l.header,children:(0,i.jsx)("span",{children:"Chatbot assistant powered cybersecurity exercise"})}),(0,i.jsxs)("div",{style:l.messages,id:"messages",children:[e.map((e,t)=>(0,i.jsx)("div",{style:"question"===e.type?l.userBubble:l.botBubble,dangerouslySetInnerHTML:S(e.text)},t)),(0,i.jsx)("div",{ref:m}),y&&(0,i.jsx)("div",{style:l.typingIndicator,children:"Assistant is typing..."})]}),(0,i.jsxs)("div",{style:l.inputContainer,children:[(0,i.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())},placeholder:"Type your message here",style:l.input}),(0,i.jsx)("button",{onClick:C,style:l.button,children:"Send"}),(0,i.jsx)(s,{})]})]})})})]})]})," "]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[23,636,593,792],()=>t(2684)),_N_E=e.O()}]);