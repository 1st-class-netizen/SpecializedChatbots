(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{9018:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chatbotL",function(){return n(6637)}])},6637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(4848),i=n(6540),o=n(23);let s=()=>(0,r.jsx)("button",{onClick:()=>{window.location.reload()},style:{border:"none",background:"transparent",cursor:"pointer"},children:(0,r.jsx)("img",{src:"/85272_refresh_icon.png",alt:"Refresh",style:{width:"50px",height:"50px"}})}),a=e=>{let{imageUrl:t,caption:n,altText:i}=e;return(0,r.jsxs)("figure",{children:[(0,r.jsx)("img",{src:t,title:i,style:{width:"100%",maxWidth:"1280px",height:"auto"}}),(0,r.jsx)("figcaption",{style:{textAlign:"center",fontStyle:"italic",backgroundColor:"white",padding:"8px 16px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",maxWidth:"500px",margin:"8px auto 0 auto"},children:n})]})},l={wrapper:{display:"flex",alignItems:"flex-start"},imageContainer:{flex:1,padding:"4px",marginRight:"0px"},chatContainer:{flex:1,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"top"},container:{width:"600px",marginTop:"20px",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",fontFamily:"Arial, sans-serif",position:"relative"},header:{fontWeight:"bold",textAlign:"center",backgroundColor:"#C1E3C6",padding:"10px"},messages:{flex:1,overflowY:"auto",padding:"10px",backgroundColor:"#fff"},typingIndicator:{color:"#888",fontStyle:"italic",margin:"10px 0",textAlign:"center"},inputContainer:{display:"flex",padding:"10px",borderTop:"1px solid #eee",backgroundColor:"#f7f7f7"},input:{flex:1,padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginRight:"10px"},button:{padding:"8px 15px",border:"none",backgroundColor:"#4082bf",color:"#fff",borderRadius:"4px",cursor:"pointer"},userBubble:{backgroundColor:"#C1E3C6",borderRadius:"8px",padding:"10px",margin:"5px 0",alignSelf:"flex-end",maxWidth:"80%"},sidebarLink:{padding:"8px 8px 8px 32px",textDecoration:"none",fontSize:"25px",color:"#818181",display:"block",transition:"0.3s"},closeBtn:{position:"absolute",top:"20px",right:"25px",fontSize:"36px",marginLeft:"50px",background:"none",border:"none",color:"#fff",cursor:"pointer"},hamburgerBtn:{fontSize:"30px",cursor:"pointer",background:"none",border:"none",color:"#fff",padding:"10px"},headerWithMenu:{display:"flex",alignItems:"center",backgroundColor:"#C1E3C6",position:"relative"},headerTitle:{flex:1,textAlign:"center",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"left"},headerLink:{color:"darkred",marginLeft:"20px"}};class d{async fetchdescriptionL(){try{let e=await fetch("/descriptionL.txt");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));this.descriptionL=await e.text(),console.log("descriptionL loaded:",this.descriptionL)}catch(e){console.error("Failed to load descriptionL:",e)}}escapeString(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}async sendMessage(e,t){let n=t.flatMap(e=>[{role:"question"===e.type?"user":"model",parts:[{text:e.text}]}]);n.push({role:"user",parts:[{text:e}]});let r={contents:n,systemInstruction:{role:"user",parts:[{text:this.descriptionL||"Default system instruction here"}]},generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:8192,responseMimeType:"text/plain"}};try{let e=await fetch("".concat(this.apiUrl,"?key=").concat(this.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(console.log("API response:",t),!t.candidates||!t.candidates[0]||!t.candidates[0].content||!t.candidates[0].content.parts)throw Error("Invalid API response structure");return t.candidates[0].content.parts.map(e=>e.text).join(" ")}catch(e){return console.error("Error:",e),"Error fetching response"}}constructor(){this.descriptionL="",this.apiKey="AIzaSyDZRyPcXJv2Rsc41NxK2VDzATuiAnIht-U",this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-002:generateContent"}}let c=()=>{let[e,t]=(0,i.useState)([]),[n,c]=(0,i.useState)([]),[p,x]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),[g,f]=(0,i.useState)(!1),y=(0,i.useRef)(null),[b,m]=(0,i.useState)(0),w=(e,t)=>"First word: ".concat(e," - Second word: ").concat(t),[j,C]=(0,i.useState)(""),[v,k]=(0,i.useState)("");(0,i.useEffect)(()=>{{let e=()=>{m(window.innerHeight)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]);let[L,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=new d;e.fetchdescriptionL().then(()=>{x(e)})},[]),(0,i.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);let A=async()=>{if(""!==j.trim()&&""!==v.trim()){let e=w(j,v),r={type:"question",text:e};if(t(e=>[...e,r]),c(e=>[...e,r]),f(!0),p)try{let i=await p.sendMessage(e,[...n,r]),o={type:"response",text:i};t(e=>[...e,o]),c(e=>[...e,o]),f(!1),i.includes("\uD83D\uDD0E")?h(!0):h(!1),C(""),k("")}catch(e){console.error("Error sending message:",e),f(!1)}}},E=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},T=e=>({__html:(0,o.xI)(e)});return(0,r.jsxs)("div",{style:{backgroundColor:"#C1E3C6"},children:[(0,r.jsxs)("div",{style:{height:b-60,width:L?"250px":"0",position:"fixed",top:0,left:0,backgroundColor:"#111",overflowX:"hidden",transition:"0.5s",paddingTop:"60px",zIndex:1e3,flexDirection:"column",display:"flex"},children:[(0,r.jsx)("button",{style:l.closeBtn,onClick:()=>{S(!1)},children:"\xd7"}),(0,r.jsx)("div",{style:{color:"white",padding:"8px 8px 8px 32px"},children:(0,r.jsx)("h1",{children:"Related Links"})}),(0,r.jsx)("a",{href:"/chatbotCS",style:l.sidebarLink,onMouseOver:e=>e.currentTarget.style.color="#f1f1f1",onMouseOut:e=>e.currentTarget.style.color="#818181",children:"Cybersecurity Website"}),(0,r.jsx)("a",{href:"https://cybercap.qc.ca/",style:l.sidebarLink,onMouseOver:e=>e.currentTarget.style.color="#f1f1f1",onMouseOut:e=>e.currentTarget.style.color="#818181",children:"CyberCap"}),(0,r.jsx)("div",{style:{color:"white",padding:"8px 8px 8px 32px",marginTop:"auto"},children:(0,r.jsx)("h3",{children:"By Sam"})})]}),(0,r.jsxs)("div",{id:"main",style:{transition:"margin-left 0.5s",marginLeft:L?"250px":"0"},children:[(0,r.jsx)("div",{style:l.headerWithMenu,children:(0,r.jsx)("button",{style:l.hamburgerBtn,onClick:()=>{S(!L)},children:"â˜°"})}),(0,r.jsx)("div",{style:l.headerTitle,children:(0,r.jsxs)("h1",{children:[(0,r.jsx)("span",{style:l.headerLink,children:"Language Website"}),(0,r.jsx)("a",{href:"/commentutiliserL",style:l.headerLink,children:"How to Use"})]})}),(0,r.jsxs)("div",{style:{background:"linear-gradient(45deg, brown 25%, orange 25%, orange 50%, brown 50%, brown 75%, orange 75%)",minHeight:b-140,display:"flex",alignItems:"normal",justifyContent:"left"},children:[(0,r.jsx)("div",{style:l.wrapper,children:(0,r.jsx)("div",{style:l.imageContainer,children:(0,r.jsx)(a,{imageUrl:"/cuneiform-tablet-assyria-905.jpg",altText:"A clay tablet with cuneiform",caption:"A clay tablet with cuneiform from an Assyrian trading post, c. 1875-1840 BCE. (Los Angeles County Museum of Art, L.A.)"})})}),(0,r.jsx)("div",{style:l.chatContainer,children:(0,r.jsx)("div",{className:"App",children:(0,r.jsxs)("div",{style:l.container,children:[(0,r.jsx)("div",{style:l.header,children:(0,r.jsx)("span",{children:"Chatbot assistant powered language exercise"})}),(0,r.jsxs)("div",{style:l.messages,id:"messages",children:[e.map((e,t)=>(0,r.jsx)("div",{style:"question"===e.type?l.userBubble:{background:"linear-gradient(to bottom, "+(u?"#f1f0f0":"#A6A2A2")+" 0px,"+(u?"#f1f0f0":"#A6A2A2")+" 38px, #f1f0f0 42px, #f1f0f0)",borderRadius:"8px",padding:"10px",margin:"5px 0",alignSelf:"flex-start",maxWidth:"80%"},dangerouslySetInnerHTML:T(e.text)},t)),(0,r.jsx)("div",{ref:y}),g&&(0,r.jsx)("div",{style:l.typingIndicator,children:"Assistant is typing..."})]}),(0,r.jsxs)("div",{style:l.inputContainer,children:[(0,r.jsx)("input",{type:"text",value:j,onChange:e=>C(e.target.value),placeholder:"Word one",onKeyDown:E,style:l.input}),(0,r.jsx)("input",{type:"text",value:v,onChange:e=>k(e.target.value),placeholder:"Word two",onKeyDown:E,style:l.input}),(0,r.jsx)("button",{onClick:A,style:l.button,children:"Send"}),(0,r.jsx)(s,{})]})]})})})]})]})," "]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[23,636,593,792],()=>t(9018)),_N_E=e.O()}]);